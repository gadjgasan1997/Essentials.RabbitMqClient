{
  "Kestrel": {
    "Endpoints": {
      "Http": {
        "Url": "http://*:1001",
        "Protocols": "Http1"
      },
      "Metrics": {
        "Url": "http://*:1002",
        "Protocols": "Http1"
      }
    }
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.Hosting.Lifetime": "Warning"
    }
  },
  "RabbitMqOptions": {
    "Connections": [
      {
        "Name": "ESB_HA",
        "Host": "host.ru",
        "Port": "5672",
        "VirtualHost": "vhost",
        "ConnectRetryCount": 5,
        "UserName": "login",
        "Password": "password",
        "Ssl": {
          "Enable": "true",
          "CertPath": "",
          "CertPassphrase": "",
          "KeyFilePath": "",
          "SslServerName": "host.ru"
        },
        "Queues": [
          {
            "Name": "RabbitMqScaleTestInput",
            "Durable": true,
            "Exclusive": false,
            "AutoDelete": false,
            "Bindings": [
              {
                "Exchange": "amq.direct",
                "RoutingKey": "RabbitMqScaleTestInput"
              }
            ]
          }
        ],
        "Exchanges": [ ],
        "SubscriptionsOptions": [
          {
            "Key": {
              "QueueName": "RabbitMqScaleTestInput",
              "RoutingKey": "RabbitMqScaleTestInput"
            },
            "Options": {
              "TypeName": "Sample.Server.Queue.ScaleTest.Input",
              "HandlerTypeName": "Sample.Server.Queue.ScaleTest.Handler",
              "NeedConsume": true,
              "ContentType": "Json",
              "PrefetchCount": 5,
              "Behaviors": [
                {
                  "Name": "Essentials.RabbitMqClient.Subscriber.MessageProcessing.Behaviors.LoggingMessageHandlerBehavior"
                },
                {
                  "Name": "Essentials.RabbitMqClient.Subscriber.MessageProcessing.Behaviors.MetricsMessageHandlerBehavior"
                }
              ]
            }
          }
        ],
        "PublishOptions": [
          {
            "Key": {
              "Exchange": "amq.direct",
              "TypeName": "Sample.Server.Queue.ScaleTest.Output"
            },
            "Options": {
              "ContentType": "Json",
              "RetryCount": 5,
              "DeliveryMode": 2,
              "Behaviors": [
                {
                  "Name": "Essentials.RabbitMqClient.Publisher.MessageProcessing.Behaviors.LoggingMessagePublisherBehavior"
                },
                {
                  "Name": "Essentials.RabbitMqClient.Publisher.MessageProcessing.Behaviors.MetricsMessagePublisherBehavior"
                }
              ]
            }
          }
        ],
        "RpcRequestsOptions": []
      }
    ]
  }
}